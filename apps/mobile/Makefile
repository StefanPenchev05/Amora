# ---------- Mobile Makefile ----------
SHELL := /bin/bash

# Colors
BLUE := \033[34m
GREEN := \033[32m
YELLOW := \033[33m
RED := \033[31m
CYAN := \033[36m
RESET := \033[0m

.PHONY: install dev build test lint clean start-ios start-android

install:
	@printf "$(CYAN)ğŸ“¦ Installing mobile dependencies...$(RESET)\n"
	@npm install
	@printf "$(GREEN)âœ… Mobile dependencies installed!$(RESET)\n"

dev:
	@printf "$(CYAN)ğŸ“± Starting Expo development server...$(RESET)\n"
	@printf "$(BLUE)ğŸŒ Expo DevTools will open in your browser$(RESET)\n"
	@npx expo start

start-ios:
	@printf "$(CYAN)ğŸ“± Starting iOS simulator...$(RESET)\n"
	@npx expo start --ios

start-android:
	@printf "$(CYAN)ğŸ“± Starting Android emulator...$(RESET)\n"
	@npx expo start --android

build:
	@printf "$(CYAN)ğŸ—ï¸ Building mobile app for production...$(RESET)\n"
	@npx expo build
	@printf "$(GREEN)âœ… Mobile build complete!$(RESET)\n"

test:
	@printf "$(CYAN)ğŸ§ª Running mobile tests...$(RESET)\n"
	@npm test
	@printf "$(GREEN)âœ… Mobile tests completed$(RESET)\n"

lint:
	@printf "$(CYAN)ğŸ” Linting mobile TypeScript code...$(RESET)\n"
	@npm run lint
	@printf "$(GREEN)âœ… Mobile linting completed$(RESET)\n"

clean:
	@printf "$(YELLOW)ğŸ§¹ Cleaning mobile build artifacts...$(RESET)\n"
	@rm -rf .expo dist node_modules/.cache
	@printf "$(GREEN)âœ… Mobile cleanup complete!$(RESET)\n"
